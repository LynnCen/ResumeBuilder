# 02 - æ•´ä½“æž¶æž„è®¾è®¡

> **å¯¼èˆª**ï¼š[ðŸ“š è¿”å›žæ€»ç›®å½•](./README.md) | [â¬…ï¸ ä¸Šä¸€ç¯‡ï¼šäº§å“å…¨æ™¯](./01-äº§å“å…¨æ™¯.md) | [âž¡ï¸ ä¸‹ä¸€ç¯‡ï¼šç¼–è¾‘å™¨åŸºåº§](./03-ç¼–è¾‘å™¨åŸºåº§.md)
>
> **æ‰€å±ž**ï¼šAI+ æ™ºèƒ½è®¾è®¡ç¼–è¾‘å™¨æž¶æž„æ–‡æ¡£

---

## 2.1 åˆ†å±‚æž¶æž„ - è‡ªä¸Šè€Œä¸‹çš„è®¾è®¡æ€æƒ³

ç³»ç»Ÿé‡‡ç”¨**ç»å…¸çš„äº”å±‚æž¶æž„**ï¼Œæ¯ä¸€å±‚èŒè´£æ¸…æ™°ã€è¾¹ç•Œæ˜Žç¡®ï¼Œä¾¿äºŽå›¢é˜Ÿåä½œå’Œé•¿æœŸç»´æŠ¤ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“± åº”ç”¨å±‚ (Apps Layer)                                        â”‚
â”‚  â”œâ”€ design-ai-plus (å›½å†…ç‰ˆ)      â† é¢å‘ä¸­å›½ç”¨æˆ·              â”‚
â”‚  â””â”€ insmind-ai-plus (å›½é™…ç‰ˆ)     â† é¢å‘æµ·å¤–ç”¨æˆ·              â”‚
â”‚  èŒè´£ï¼šçŽ¯å¢ƒé…ç½®ã€ç™»å½•æ–¹å¼ã€å¤šè¯­è¨€ã€æ”¯ä»˜å¯¹æŽ¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸŽ¨ ä¸šåŠ¡å±‚ (Business Layer)                                   â”‚
â”‚  â”œâ”€ AI èŠå¤©é¢æ¿              â† æ ¸å¿ƒäº¤äº’å…¥å£                   â”‚
â”‚  â”œâ”€ å·¥å…·æ  & å±žæ€§é¢æ¿        â† ä¼ ç»Ÿç¼–è¾‘èƒ½åŠ›                   â”‚
â”‚  â”œâ”€ åŽ†å²è®°å½• & æ¨¡æ¿åº“        â† å†…å®¹ç®¡ç†                       â”‚
â”‚  â””â”€ ååŒ & åˆ†äº«             â† ç¤¾äº¤åŠŸèƒ½                        â”‚
â”‚  èŒè´£ï¼šä¸šåŠ¡åŠŸèƒ½å®žçŽ°ã€ç”¨æˆ·äº¤äº’ç•Œé¢ã€äº§å“å·®å¼‚åŒ–                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ—ï¸ åŸºåº§å±‚ (Foundation Layer)                                â”‚
â”‚  @design/design-foundation                                   â”‚
â”‚  â”œâ”€ åˆå§‹åŒ–ç³»ç»Ÿ (installDesign)  â† ç»Ÿä¸€å…¥å£                   â”‚
â”‚  â”œâ”€ é…ç½®ç®¡ç†                     â† API/æƒé™/æ‰©å±•              â”‚
â”‚  â”œâ”€ ç”Ÿå‘½å‘¨æœŸç®¡ç†                 â† å¯åŠ¨/é”€æ¯                  â”‚
â”‚  â””â”€ è·¯ç”± & çŠ¶æ€ç®¡ç†             â† å…¨å±€çŠ¶æ€                    â”‚
â”‚  èŒè´£ï¼šæä¾›æ ‡å‡†åŒ–çš„ç¼–è¾‘å™¨åŸºç¡€è®¾æ–½ï¼Œå±è”½åº•å±‚å¤æ‚åº¦                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ å¼•æ“Žå±‚ (Engine Layer)                                     â”‚
â”‚  @editor/framework                                           â”‚
â”‚  â”œâ”€ æ•°æ®æ¨¡åž‹ (Data Model)       â† å…ƒç´ /é¡µé¢/æ¨¡æ¿             â”‚
â”‚  â”œâ”€ å‘½ä»¤ç³»ç»Ÿ (Command)          â† æ’¤é”€/é‡åš                  â”‚
â”‚  â”œâ”€ äº‹ä»¶ç³»ç»Ÿ (Event Bus)        â† è·¨æ¨¡å—é€šä¿¡                 â”‚
â”‚  â””â”€ æ’ä»¶ç³»ç»Ÿ (Plugin)           â† èƒ½åŠ›æ‰©å±•                   â”‚
â”‚  èŒè´£ï¼šç¼–è¾‘å™¨æ ¸å¿ƒèƒ½åŠ›æŠ½è±¡ï¼Œä¸ä¾èµ–å…·ä½“ä¸šåŠ¡                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ–¼ï¸ æ¸²æŸ“å±‚ (Render Layer)                                     â”‚
â”‚  @editor/infinite-renderer (åŸºäºŽ PixiJS)                     â”‚
â”‚  â”œâ”€ æ— é™ç”»å¸ƒ (Infinite Canvas)  â† æ— é™æ»šåŠ¨                   â”‚
â”‚  â”œâ”€ è§†å£ç®¡ç† (Viewport)         â† ç¼©æ”¾/å¹³ç§»                  â”‚
â”‚  â”œâ”€ è™šæ‹ŸåŒ–æ¸²æŸ“                   â† æ€§èƒ½ä¼˜åŒ–                   â”‚
â”‚  â””â”€ WebGL åŠ é€Ÿ                  â† ç¡¬ä»¶åŠ é€Ÿ                   â”‚
â”‚  èŒè´£ï¼šé«˜æ€§èƒ½å›¾å½¢æ¸²æŸ“ï¼Œæ”¯æŒå¤§è§„æ¨¡å…ƒç´ æµç•…æ“ä½œ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸ºä»€ä¹ˆè¦åˆ†å±‚ï¼Ÿ**

1. **èŒè´£æ¸…æ™°**ï¼šæ¯å±‚åªå…³æ³¨è‡ªå·±çš„é—®é¢˜ï¼Œé™ä½Žå¤æ‚åº¦
2. **è§£è€¦åˆ**ï¼šä¸Šå±‚ä¾èµ–ä¸‹å±‚ï¼Œä¸‹å±‚ä¸çŸ¥é“ä¸Šå±‚ï¼Œä¾¿äºŽæ›¿æ¢å’Œæµ‹è¯•
3. **å¯æ‰©å±•**ï¼šæ–°å¢žåŠŸèƒ½åªéœ€åœ¨å¯¹åº”å±‚å®žçŽ°ï¼Œä¸å½±å“å…¶ä»–å±‚
4. **å›¢é˜Ÿåä½œ**ï¼šä¸åŒå›¢é˜Ÿè´Ÿè´£ä¸åŒå±‚ï¼Œå¹¶è¡Œå¼€å‘äº’ä¸é˜»å¡ž

---

## 2.2 ä¸‰å¤§æ ¸å¿ƒè®¾è®¡ç†å¿µ

### ç†å¿µ 1ï¼šåŸºåº§åŒ–ï¼ˆFoundation-Basedï¼‰ðŸ—ï¸

**é—®é¢˜**ï¼šå¤šä¸ªåº”ç”¨ï¼ˆå›½å†…ç‰ˆã€å›½é™…ç‰ˆã€ç§»åŠ¨ç‰ˆï¼‰é‡å¤å®žçŽ°ç¼–è¾‘å™¨åˆå§‹åŒ–é€»è¾‘ï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šæŠ½è±¡å‡ºç»Ÿä¸€çš„"åŸºåº§"ï¼Œæä¾›æ ‡å‡†åŒ–çš„åˆå§‹åŒ–æµç¨‹ã€‚

```
ä¼ ç»Ÿæ–¹å¼ï¼ˆæ¯ä¸ªåº”ç”¨ç‹¬ç«‹å®žçŽ°ï¼‰ï¼š
  App Aï¼šè‡ªå·±åˆå§‹åŒ– Vue â†’ è‡ªå·±é…ç½®è·¯ç”± â†’ è‡ªå·±æ³¨å†Œæ’ä»¶ â†’ è‡ªå·±æŒ‚è½½
  App Bï¼šè‡ªå·±åˆå§‹åŒ– Vue â†’ è‡ªå·±é…ç½®è·¯ç”± â†’ è‡ªå·±æ³¨å†Œæ’ä»¶ â†’ è‡ªå·±æŒ‚è½½
  App Cï¼š...

åŸºåº§åŒ–æ–¹å¼ï¼ˆç»Ÿä¸€å…¥å£ï¼‰ï¼š
  æ‰€æœ‰åº”ç”¨ï¼šè°ƒç”¨ installDesign(config) â†’ åŸºåº§è‡ªåŠ¨å®Œæˆæ‰€æœ‰åˆå§‹åŒ–
```

**æ ¸å¿ƒä»·å€¼**ï¼š

- âœ… å‡å°‘ 80% çš„åˆå§‹åŒ–ä»£ç 
- âœ… ç»Ÿä¸€é…ç½®æ ‡å‡†ï¼Œé¿å…é—æ¼
- âœ… ä¸€å¤„å‡çº§ï¼Œæ‰€æœ‰åº”ç”¨å—ç›Š

### ç†å¿µ 2ï¼šæ’ä»¶åŒ–ï¼ˆPlugin-Basedï¼‰ðŸ§©

**é—®é¢˜**ï¼šåŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œä»£ç è€¦åˆä¸¥é‡ï¼Œç‰µä¸€å‘åŠ¨å…¨èº«ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šå°†åŠŸèƒ½æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹çš„æ’ä»¶ï¼ŒæŒ‰éœ€åŠ è½½ã€‚

```
æ ¸å¿ƒæ€æƒ³ï¼š
  ç¼–è¾‘å™¨å†…æ ¸ï¼ˆæœ€å°å¯è¿è¡Œï¼‰ + N ä¸ªæ’ä»¶ï¼ˆå¯é€‰åŠŸèƒ½ï¼‰

  åŸºç¡€ç‰ˆ = å†…æ ¸                         ï¼ˆç”»å¸ƒ + åŸºç¡€ç¼–è¾‘ï¼‰
  æ ‡å‡†ç‰ˆ = å†…æ ¸ + AI æ’ä»¶                ï¼ˆ+ AI ç”Ÿæˆï¼‰
  ä¼ä¸šç‰ˆ = å†…æ ¸ + AI + ååŒ + å“ç‰Œæ’ä»¶    ï¼ˆ+ å›¢é˜Ÿåä½œï¼‰
```

**æ’ä»¶ç”Ÿå‘½å‘¨æœŸ**ï¼š

```
åŠ è½½é˜¶æ®µ â†’ æ³¨å†Œé˜¶æ®µ â†’ å¯åŠ¨é˜¶æ®µ â†’ è¿è¡Œé˜¶æ®µ â†’ å¸è½½é˜¶æ®µ
(Load)    (Register)  (Bootstrap) (Run)     (Unmount)
```

**æ ¸å¿ƒä»·å€¼**ï¼š

- âœ… æŒ‰éœ€åŠ è½½ï¼Œå‡å°‘é¦–å±ä½“ç§¯
- âœ… åŠŸèƒ½éš”ç¦»ï¼Œäº’ä¸å½±å“
- âœ… ç‹¬ç«‹å¼€å‘ï¼Œç‹¬ç«‹éƒ¨ç½²

### ç†å¿µ 3ï¼šäº‹ä»¶é©±åŠ¨ï¼ˆEvent-Drivenï¼‰ðŸ“¡

**é—®é¢˜**ï¼šæ¨¡å—é—´ç›´æŽ¥è°ƒç”¨ï¼Œå½¢æˆå¼ºä¾èµ–ï¼Œéš¾ä»¥æ‰©å±•å’Œæµ‹è¯•ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šé€šè¿‡äº‹ä»¶æ€»çº¿è§£è€¦æ¨¡å—é—´é€šä¿¡ã€‚

```
ä¼ ç»Ÿæ–¹å¼ï¼ˆç›´æŽ¥è°ƒç”¨ï¼‰ï¼š
  ChatPanel â†’ ç›´æŽ¥è°ƒç”¨ â†’ CanvasEditor.addImage()
  é—®é¢˜ï¼šChatPanel å¿…é¡»çŸ¥é“ CanvasEditor çš„å­˜åœ¨å’ŒæŽ¥å£

äº‹ä»¶é©±åŠ¨æ–¹å¼ï¼š
  ChatPanel â†’ å‘å¸ƒäº‹ä»¶ â†’ eventBus.emit('addImage', data)
  CanvasEditor â†’ è®¢é˜…äº‹ä»¶ â†’ eventBus.on('addImage', handler)
  ä¼˜åŠ¿ï¼šä¸¤ä¸ªæ¨¡å—ä¸éœ€è¦äº’ç›¸å¼•ç”¨
```

**æ ¸å¿ƒä»·å€¼**ï¼š

- âœ… æ¨¡å—è§£è€¦ï¼Œæ˜“äºŽæ‰©å±•
- âœ… æ”¯æŒä¸€å¯¹å¤šé€šä¿¡
- âœ… ä¾¿äºŽåŸ‹ç‚¹å’Œè°ƒè¯•

---

> **ä¸‹ä¸€æ­¥**ï¼šæ·±å…¥äº†è§£ [ç¼–è¾‘å™¨åŸºåº§](./03-ç¼–è¾‘å™¨åŸºåº§.md) çš„è®¾è®¡ä¸Žå®žçŽ°ã€‚
